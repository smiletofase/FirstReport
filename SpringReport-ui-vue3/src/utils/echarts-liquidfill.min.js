import*as echarts from"echarts";!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("echarts")):"function"==typeof define&&define.amd?define(["echarts"],t):"object"==typeof exports?exports["echarts-liquidfill"]=t(require("echarts")):e["echarts-liquidfill"]=t(e.echarts)}(self,function(e){return(()=>{"use strict";var t={"./index.js":
/*!******************************!*\
  !*** ./index.js + 6 modules ***!
  \******************************/(e,t,a)=>{a.r(t);var r=echarts;r.extendSeriesModel({type:"series.liquidFill",optionUpdated:function(){var e=this.option;e.gridSize=Math.max(Math.floor(e.gridSize),4)},getInitialData:function(e,t){var a=r.helper.createDimensions(e.data,{coordDimensions:["value"]}),i=new r.List(a,this);return i.initData(e.data),i},defaultOption:{color:["#294D99","#156ACF","#1598ED","#45BDFF"],center:["50%","50%"],radius:"50%",amplitude:"8%",waveLength:"80%",phase:"auto",period:"auto",direction:"right",shape:"circle",waveAnimation:!0,animationEasing:"linear",animationEasingUpdate:"linear",animationDuration:2e3,animationDurationUpdate:1e3,outline:{show:!0,borderDistance:8,itemStyle:{color:"none",borderColor:"#294D99",borderWidth:8,shadowBlur:20,shadowColor:"rgba(0, 0, 0, 0.25)"}},backgroundStyle:{color:"#E3F7FF"},itemStyle:{opacity:.95,shadowBlur:50,shadowColor:"rgba(0, 0, 0, 0.4)"},label:{show:!0,color:"#294D99",insideColor:"#fff",fontSize:50,fontWeight:"bold",align:"center",baseline:"middle",position:"inside"},emphasis:{itemStyle:{opacity:.8}}}});var i=Object.prototype.toString,n=Array.prototype,o=n.forEach,l=(n.filter,n.slice),s=(n.map,function(){}.constructor),h=s?s.prototype:null,c={};function p(e){if(!e)return[];if(Object.keys)return Object.keys(e);var t=[];for(var a in e)e.hasOwnProperty(a)&&t.push(a);return t}c.createCanvas=function(){return document.createElement("canvas")};h&&function(e){return"function"==typeof e}(h.bind)&&h.call.bind(h.bind);function u(e){return Array.isArray?Array.isArray(e):"[object Array]"===i.call(e)}!function(){function e(t){this.data={};var a=u(t);this.data={};var r=this;function i(e,t){a?r.set(e,t):r.set(t,e)}t instanceof e?t.each(i):t&&function(e,t,a){if(e&&t)if(e.forEach&&e.forEach===o)e.forEach(t,a);else if(e.length===+e.length)for(var r=0,i=e.length;r<i;r++)t.call(a,e[r],r,e);else for(var n in e)e.hasOwnProperty(n)&&t.call(a,e[n],n,e)}(t,i)}e.prototype.get=function(e){return this.data.hasOwnProperty(e)?this.data[e]:null},e.prototype.set=function(e,t){return this.data[e]=t},e.prototype.each=function(e,t){for(var a in this.data)this.data.hasOwnProperty(a)&&e.call(t,this.data[a],a)},e.prototype.keys=function(){return p(this.data)},e.prototype.removeKey=function(e){delete this.data[e]}}();const d=r.graphic.extendShape({type:"ec-liquid-fill",shape:{waveLength:0,radius:0,radiusY:0,cx:0,cy:0,waterLevel:0,amplitude:0,phase:0,inverse:!1},buildPath:function(e,t){null==t.radiusY&&(t.radiusY=t.radius);for(var a=Math.max(2*Math.ceil(2*t.radius/t.waveLength*4),8);t.phase<2*-Math.PI;)t.phase+=2*Math.PI;for(;t.phase>0;)t.phase-=2*Math.PI;var r=t.phase/Math.PI/2*t.waveLength,i=t.cx-t.radius+r-2*t.radius;e.moveTo(i,t.waterLevel);for(var n=0,o=0;o<a;++o){var l=o%4,s=g(o*t.waveLength/4,l,t.waveLength,t.amplitude);e.bezierCurveTo(s[0][0]+i,-s[0][1]+t.waterLevel,s[1][0]+i,-s[1][1]+t.waterLevel,s[2][0]+i,-s[2][1]+t.waterLevel),o===a-1&&(n=s[2][0])}t.inverse?(e.lineTo(n+i,t.cy-t.radiusY),e.lineTo(i,t.cy-t.radiusY),e.lineTo(i,t.waterLevel)):(e.lineTo(n+i,t.cy+t.radiusY),e.lineTo(i,t.cy+t.radiusY),e.lineTo(i,t.waterLevel)),e.closePath()}});function g(e,t,a,r){return 0===t?[[e+.5*a/Math.PI/2,r/2],[e+.5*a/Math.PI,r],[e+a/4,r]]:1===t?[[e+.5*a/Math.PI/2*(Math.PI-2),r],[e+.5*a/Math.PI/2*(Math.PI-1),r/2],[e+a/4,0]]:2===t?[[e+.5*a/Math.PI/2,-r/2],[e+.5*a/Math.PI,-r],[e+a/4,-r]]:[[e+.5*a/Math.PI/2*(Math.PI-2),-r],[e+.5*a/Math.PI/2*(Math.PI-1),-r/2],[e+a/4,0]]}var f=function(e,t){switch(e){case"center":case"middle":e="50%";break;case"left":case"top":e="0%";break;case"right":case"bottom":e="100%"}return"string"==typeof e?(a=e,a.replace(/^\s+|\s+$/g,"")).match(/%$/)?parseFloat(e)/100*t:parseFloat(e):null==e?NaN:+e;var a};function v(e){return e&&0===e.indexOf("path://")}r.extendChartView({type:"liquidFill",render:function(e,t,a){var i=this,n=this.group;n.removeAll();var o=e.getData(),l=o.getItemModel(0),s=l.get("center"),h=l.get("radius"),c=a.getWidth(),p=a.getHeight(),u=Math.min(c,p),g=0,y=0,m=e.get("outline.show");m&&(g=e.get("outline.borderDistance"),y=f(e.get("outline.itemStyle.borderWidth"),u));var w,b,P,x=f(s[0],c),M=f(s[1],p),S=!1,I=e.get("shape");("container"===I?(S=!0,b=[(w=[c/2,p/2])[0]-y/2,w[1]-y/2],P=[f(g,c),f(g,p)],h=[Math.max(b[0]-P[0],0),Math.max(b[1]-P[1],0)]):(b=(w=f(h,u)/2)-y/2,P=f(g,u),h=Math.max(b-P,0)),m)&&(O().style.lineWidth=y,n.add(O()));var L=S?0:x-h,C=S?0:M-h,T=null;n.add(function(){var t=D(h);t.setStyle(e.getModel("backgroundStyle").getItemStyle()),t.style.fill=null,t.z2=5;var a=D(h);a.setStyle(e.getModel("backgroundStyle").getItemStyle()),a.style.stroke=null;var i=new r.graphic.Group;return i.add(t),i.add(a),i}());var E=this._data,A=[];function D(e,t){if(I){if(v(I)){var a=r.graphic.makePath(I.slice(7),{}),i=a.getBoundingRect(),n=i.width,o=i.height;n>o?(o*=2*e/n,n=2*e):(n*=2*e/o,o=2*e);var l=t?0:x-n/2,s=t?0:M-o/2;return a=r.graphic.makePath(I.slice(7),{},new r.graphic.BoundingRect(l,s,n,o)),t&&(a.x=-n/2,a.y=-o/2),a}if(S){var h=t?-e[0]:x-e[0],c=t?-e[1]:M-e[1];return r.helper.createSymbol("rect",h,c,2*e[0],2*e[1])}h=t?-e:x-e,c=t?-e:M-e;return"pin"===I?c+=e:"arrow"===I&&(c-=e),r.helper.createSymbol(I,h,c,2*e,2*e)}return new r.graphic.Circle({shape:{cx:t?0:x,cy:t?0:M,r:e}})}function O(){var t=D(w);return t.style.fill=null,t.setStyle(e.getModel("outline.itemStyle").getItemStyle()),t}function F(t,a,i){var n=S?h[0]:h,l=S?p/2:h,s=o.getItemModel(t),c=s.getModel("itemStyle"),u=s.get("phase"),g=f(s.get("amplitude"),2*l),v=f(s.get("waveLength"),2*n),y=l-o.get("value",t)*l*2;u=i?i.shape.phase:"auto"===u?t*Math.PI/4:u;var m=c.getItemStyle();if(!m.fill){var w=e.get("color"),b=t%w.length;m.fill=w[b]}var P=new d({shape:{waveLength:v,radius:n,radiusY:l,cx:2*n,cy:0,waterLevel:y,amplitude:g,phase:u,inverse:a},style:m,x:x,y:M});P.shape._waterLevel=y;var I=s.getModel("emphasis.itemStyle").getItemStyle();I.lineWidth=0,P.ensureState("emphasis").style=I,r.helper.enableHoverEmphasis(P);var L=D(h,!0);return L.setStyle({fill:"white"}),P.setClipPath(L),P}function j(e,t,a){var r=o.getItemModel(e),i=r.get("period"),n=r.get("direction"),l=o.get("value",e),s=r.get("phase");s=a?a.shape.phase:"auto"===s?e*Math.PI/4:s;var h=0;h="auto"===i?function(t){var a=o.count();return 0===a?t:t*(.2+(a-e)/a*.8)}(5e3):"function"==typeof i?i(l,e):i;var c=0;"right"===n||null==n?c=Math.PI:"left"===n?c=-Math.PI:"none"===n?c=0:console.error("Illegal direction value for liquid fill."),"none"!==n&&r.get("waveAnimation")&&t.animate("shape",!0).when(0,{phase:s}).when(h/2,{phase:c+s}).when(h,{phase:2*c+s}).during(function(){T&&T.dirty(!0)}).start()}o.diff(E).add(function(t){var a=F(t,!1),i=a.shape.waterLevel;a.shape.waterLevel=S?p/2:h,r.graphic.initProps(a,{shape:{waterLevel:i}},e),a.z2=2,j(t,a,null),n.add(a),o.setItemGraphicEl(t,a),A.push(a)}).update(function(t,a){for(var l=E.getItemGraphicEl(a),s=F(t,!1,l),h={},c=["amplitude","cx","cy","phase","radius","radiusY","waterLevel","waveLength"],u=0;u<c.length;++u){var d=c[u];s.shape.hasOwnProperty(d)&&(h[d]=s.shape[d])}var g={},f=["fill","opacity","shadowBlur","shadowColor"];for(u=0;u<f.length;++u){d=f[u];s.style.hasOwnProperty(d)&&(g[d]=s.style[d])}S&&(h.radiusY=p/2),r.graphic.updateProps(l,{shape:h,x:s.x,y:s.y},e),e.isUniversalTransitionEnabled&&e.isUniversalTransitionEnabled()?r.graphic.updateProps(l,{style:g},e):l.useStyle(g);var y=l.getClipPath(),m=s.getClipPath();l.setClipPath(s.getClipPath()),l.shape.inverse=s.inverse,y&&m&&i._shape===I&&!v(I)&&r.graphic.updateProps(m,{shape:y.shape},e,{isFrom:!0}),j(t,l,l),n.add(l),o.setItemGraphicEl(t,l),A.push(l)}).remove(function(e){var t=E.getItemGraphicEl(e);n.remove(t)}).execute(),l.get("label.show")&&n.add(function(t){var a=l.getModel("label");var i={z2:10,shape:{x:L,y:C,width:2*(S?h[0]:h),height:2*(S?h[1]:h)},style:{fill:"transparent"},textConfig:{position:a.get("position")||"inside"},silent:!0},n={style:{text:function(){var t=e.getFormattedLabel(0,"normal"),a=100*o.get("value",0),r=o.getName(0)||e.name;isNaN(a)||(r=a.toFixed(0)+"%");return null==t?r:t}(),textAlign:a.get("align"),textVerticalAlign:a.get("baseline")}};Object.assign(n.style,r.helper.createTextStyle(a));var s=new r.graphic.Rect(i),c=new r.graphic.Rect(i);c.disableLabelAnimation=!0,s.disableLabelAnimation=!0;var p=new r.graphic.Text(n),u=new r.graphic.Text(n);s.setTextContent(p),c.setTextContent(u);var d=a.get("insideColor");u.style.fill=d;var g=new r.graphic.Group;g.add(s),g.add(c);var f=D(h,!0);return(T=new r.graphic.CompoundPath({shape:{paths:t},x:x,y:M})).setClipPath(f),c.setClipPath(T),g}(A)),this._shape=I,this._data=o},dispose:function(){}})},"echarts/lib/echarts":
/*!**************************!*\
  !*** external "echarts" ***!
  \**************************/t=>{t.exports=e}},a={};function r(e){if(a[e])return a[e].exports;var i=a[e]={exports:{}};return t[e](i,i.exports,r),i.exports}return r.r=(e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}),r("./index.js")})()});